<!doctype html>
<html>
<head>
    <title>11 - HTML in node</title>

    <link rel="stylesheet" href="assets/libs/vis/vis.css">
    <link rel="stylesheet" href="assets/css/font-awesome.min.css">
    <link rel="stylesheet" href="assets/css/ionicons.min.css">
    <link rel="stylesheet" href="assets/libs/bootstrap/dist/css/bootstrap.css">
    <link rel="stylesheet" href="assets/libs/bootstrap/dist/css/bootstrap-theme.css">
    <script src="assets/libs/jquery/dist/jquery.min.js"></script>
    <script src="assets/libs/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="assets/libs/vis/vis.js"></script>
    <style type="text/css">
        body {
            font: 10pt arial;
        }
        #mynetwork {
            width: 600px;
            height: 600px;
            border: 1px solid lightgray;
            background-color:#eeeeee;
        }

    </style>

</head>

<body onload="draw()">
<h1>HTML in node</h1>


<canvas id="mycanvas" width="300px" height="100px">

</canvas>

<div id="mynetwork"></div>

<script type="text/javascript">
    var nodes = null;
    var edges = null;
    var network = null;


    var svg = '<svg xmlns="http://www.w3.org/2000/svg" width="390" height="65">' +
        '<rect x="0" y="0" width="100%" height="100%" fill="#7890A7" stroke-width="20" stroke="#ffffff" ></rect>' +
        '<foreignObject x="15" y="10" width="100%" height="100%">' +
        '<div xmlns="http://www.w3.org/1999/xhtml" style="font-size:40px">' +
        ' <em>I</em> am' +
        '<span style="color:white; text-shadow:0 0 20px #000000;">' +
        ' HTML in SVG!</span>' +
        '</div>' +
        '</foreignObject>' +
        '</svg>';


    //        var url = "data:image/svg+xml;charset=utf-8,"+ encodeURIComponent(svg);

//    canvasDraw();
    canvasDraw2();

    var canvas = document.getElementById("mycanvas");
    var url    = canvas.toDataURL("image/png");

    // Called when the Visualization API is loaded.
    function draw() {
        // Create a data table with nodes.
        nodes = [];

        // Create a data table with links.
        edges = [];

        nodes.push({id: 1, label: 'Get HTML', image: url, shape: 'image'});
        nodes.push({id: 2, label: 'Using Canvas', image: url, shape: 'image'});
        edges.push({from: 1, to: 2, length: 300});

        // create a network
        var container = document.getElementById('mynetwork');
        var data = {
            nodes: nodes,
            edges: edges
        };
        var options = {
            physics: {stabilization: false},
            edges: {smooth: false}
        };
        network = new vis.Network(container, data, options);
    }

    function canvasDraw() {
        var canvas = document.getElementById('mycanvas'),
            context = canvas.getContext('2d');

        context.font = '38pt Arial';
        context.fillStyle = 'cornflowerblue';
        context.strokeStyle = 'blue';

        context.fillText("Hello Canvas", canvas.width/2 - 150,
            canvas.height/2 + 15);

        context.strokeText("Hello Canvas", canvas.width/2 - 150,
            canvas.height/2 + 15 );
    }

    function canvasDraw2() {
        var canvas = document.getElementById('mycanvas');
        var ctx = canvas.getContext('2d');

        ctx.fillStyle = "green";
        ctx.fillRect(10, 10, 100, 100);

        ctx.beginPath();
        ctx.moveTo(120, 10);
        ctx.lineTo(220, 10);
        ctx.lineTo(220, 110);
        ctx.lineTo(120, 110);
        ctx.lineTo(120, 10);
        ctx.stroke();
        ctx.closePath();

        ctx.beginPath();
        // arc(x, y, radius, startAngle, endAngle, anticlockwise)
        ctx.arc(280, 60, 50, 0, 2 * Math.PI);
        ctx.fill();
        ctx.closePath();

        ctx.beginPath();
        // arc(x, y, radius, startAngle, endAngle, anticlockwise)
        ctx.arc(390, 60, 50, 0, 2 * Math.PI);
        ctx.stroke();
        ctx.closePath();
    }
</script>
</body>
</html>
